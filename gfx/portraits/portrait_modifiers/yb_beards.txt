yb_beards = {

	usage = game

    selection_behavior = weighted_random

    sp4_beards_mena = { 
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = sp4_mena_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = -30
                portrait_mena_clothing_trigger = yes
                portrait_epe_islamic_iranian_clothing_trigger = yes
				portrait_epe_non_islamic_iranian_clothing_trigger = yes		
				portrait_fp3_iranian_clothing_trigger = yes
                portrait_epe_bedouin_clothing_trigger = yes
                has_sp4_dlc_trigger = yes
            }
            modifier = {
                add = 1
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }
                }
                OR = {
                    portrait_epe_seljuk_clothing_trigger = yes
                    AND = {
                        portrait_turkic_clothing_trigger = yes
				        scope:culture = { has_clothing_gfx = yb_western_steppe_clothing_gfx }
                    }
                }
                has_sp4_dlc_trigger = yes
            }
        }
    }

    #turkic
    fp3_turkic_beards_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = fp3_turkic_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = -10
                OR = {
                    NOT = { exists = this }  
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }
                }
                portrait_turkic_clothing_trigger = yes
            }
            modifier = { # Muslims should always have a beard
                add = 1
                scope:faith.religion = religion:islam_religion
                portrait_turkic_clothing_trigger = yes
            }
        }
    }

    fp3_turkic_beards_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = fp3_turkic_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = { # Muslims should always have a beard
                factor = 0
                portrait_steppe_clothing_trigger = yes
            }
        }
    }

    sp4_beards_rus = { 
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = sp4_rus_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 1
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }
                }
                NOT = { scope:faith.religion = religion:islam_religion }
				scope:culture = { has_clothing_gfx = yb_western_steppe_clothing_gfx }
                has_sp4_dlc_trigger = yes
            }
        }
    }

    steppe_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = steppe_beards_straight
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 5
                OR = {
                    NOT = { exists = this }
                     has_gene = {
                        category = gene_hair_type
                        template = hair_straight
                    }       
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }            
                }
                portrait_turkic_clothing_trigger = yes
            }
        }
    }

    mpo_mongol_straight = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = mpo_mongol_beards
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 5
                OR = {
                    NOT = { exists = this }
                    # has_gene = {
                    #     category = gene_hair_type
                    #     template = hair_straight
                    # }  
                    has_gene = {
                        category = gene_hair_type
                        template = hair_straight_thin_beard
                    }      
                    # has_gene = {
                    #     category = gene_hair_type
                    #     template = hair_wavy
                    # }            
                }
                portrait_turkic_clothing_trigger = yes
                has_mpo_dlc_trigger = yes 
            }
            modifier = {
                add = 15
                OR = {
                    NOT = { exists = this }
                    # has_gene = {
                    #     category = gene_hair_type
                    #     template = hair_straight
                    # }  
                    has_gene = {
                        category = gene_hair_type
                        template = hair_straight_thin_beard
                    }      
                    # has_gene = {
                    #     category = gene_hair_type
                    #     template = hair_wavy
                    # }            
                }
				scope:culture = { has_clothing_gfx = yb_eastern_steppe_clothing_gfx }
                has_mpo_dlc_trigger = yes 
            }
        }
    }

    steppe_curly = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = beards
                template = steppe_beards_curly
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        # outfit_tags = { no_clothes }
        weight = {
            base = 0
            modifier = {
                add = 10
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                portrait_turkic_clothing_trigger = yes
            }
            modifier = {
                add = 5
                OR = {
                    NOT = { exists = this }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_wavy
                    }
                    has_gene = {
                        category = gene_hair_type
                        template = hair_curly
                    }            
                }
                scope:faith.religion = religion:islam_religion
                portrait_turkic_clothing_trigger = yes
            }
        }
    }
}
